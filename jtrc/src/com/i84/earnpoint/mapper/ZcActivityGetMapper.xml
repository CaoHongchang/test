<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.i84.earnpoint.mapper.ZcActivityGetMapper">
  <resultMap id="BaseResultMap" type="com.i84.earnpoint.model.ZcActivityGet">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="activity_id" jdbcType="INTEGER" property="activityId" />
    <result column="sb_date" jdbcType="TIMESTAMP" property="sbDate" />
    <result column="uid" jdbcType="INTEGER" property="uid" />
    <result column="s_level" jdbcType="VARCHAR" property="sLevel" />
    <result column="s_name" jdbcType="VARCHAR" property="sName" />
    <result column="s_pro" jdbcType="VARCHAR" property="sPro" />
    <result column="s_id" jdbcType="VARCHAR" property="sId" />
    <result column="s_state" jdbcType="INTEGER" property="sState" />
    <result column="remark" jdbcType="VARCHAR" property="remark" />
    <result column="s_uid" jdbcType="INTEGER" property="sUid" />
    <result column="s_date" jdbcType="TIMESTAMP" property="sDate" />
    <result column="del_date" jdbcType="TIMESTAMP" property="delDate" />
    <result column="p_time" jdbcType="VARCHAR" property="pTime" />
    <result column="is_other" jdbcType="VARCHAR" property="isOther" />
    <result column="work_time" jdbcType="VARCHAR" property="workTime" />
    <result column="work_now" jdbcType="VARCHAR" property="workNow" />
    <result column="point" jdbcType="VARCHAR" property="point" />
    <result column="year_k" jdbcType="VARCHAR" property="yearK" />
    <result column="url" jdbcType="VARCHAR" property="url" />
    <result column="w_remark" jdbcType="VARCHAR" property="wRemark" />
    <result column="pr_date" jdbcType="TIMESTAMP" property="prDate" />
    <result column="z_type" jdbcType="VARCHAR" property="zType" />
    <result column="p_url" jdbcType="VARCHAR" property="pUrl" />
    <result column="xz_pos" jdbcType="VARCHAR" property="xzPos" />
    <result column="jscore" jdbcType="INTEGER" property="jscore" />
    <result column="xp_pro" jdbcType="VARCHAR" property="xpPro" />
    <result column="cur_pos" jdbcType="VARCHAR" property="curPos" />
    <result column="sex" jdbcType="CHAR" property="sex" />
    <result column="birth_date" jdbcType="TIMESTAMP" property="birthDate" />
    <result column="work_name" jdbcType="VARCHAR" property="workName" />
    <result column="work_time2" jdbcType="TIMESTAMP" property="workTime2" />
    <result column="d_point" jdbcType="VARCHAR" property="dPoint" />
    <result column="adr" jdbcType="VARCHAR" property="adr" />
    <result column="email" jdbcType="VARCHAR" property="email" />
    <result column="technical" jdbcType="VARCHAR" property="technical" />
    <result column="tel" jdbcType="VARCHAR" property="tel" />
    <result column="z_no" jdbcType="VARCHAR" property="zNo" />
    <result column="s_type" jdbcType="VARCHAR" property="sType" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="pz_no" jdbcType="VARCHAR" property="pzNo" />
    <result column="is_get" jdbcType="VARCHAR" property="isGet" />
    <result column="mz" jdbcType="VARCHAR" property="mz" />
    <result column="form_place" jdbcType="VARCHAR" property="formPlace" />
    <result column="get_time" jdbcType="TIMESTAMP" property="getTime" />
    <result column="zip_code" jdbcType="VARCHAR" property="zipCode" />
    <result column="g_tel" jdbcType="VARCHAR" property="gTel" />
    <result column="qq" jdbcType="VARCHAR" property="qq" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, activity_id, sb_date, uid, s_level, s_name, s_pro, s_id, s_state, remark, s_uid, 
    s_date, del_date, p_time, is_other, work_time, work_now, point, year_k, url, w_remark, 
    pr_date, z_type, p_url, xz_pos, jscore, xp_pro, cur_pos, sex, birth_date, work_name, 
    work_time2, d_point, adr, email, technical, tel, z_no, s_type, name, pz_no, is_get, 
    mz, form_place, get_time, zip_code, g_tel, qq
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from zc_activity_get
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from zc_activity_get
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.i84.earnpoint.model.ZcActivityGet">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into zc_activity_get (id, activity_id, sb_date, 
      uid, s_level, s_name, 
      s_pro, s_id, s_state, 
      remark, s_uid, s_date, 
      del_date, p_time, is_other, 
      work_time, work_now, point, 
      year_k, url, w_remark, 
      pr_date, z_type, p_url, 
      xz_pos, jscore, xp_pro, 
      cur_pos, sex, birth_date, 
      work_name, work_time2, d_point, 
      adr, email, technical, 
      tel, z_no, s_type, name, 
      pz_no, is_get, mz, form_place, 
      get_time, zip_code, g_tel, 
      qq)
    values (#{id,jdbcType=INTEGER}, #{activityId,jdbcType=INTEGER}, #{sbDate,jdbcType=TIMESTAMP}, 
      #{uid,jdbcType=INTEGER}, #{sLevel,jdbcType=VARCHAR}, #{sName,jdbcType=VARCHAR}, 
      #{sPro,jdbcType=VARCHAR}, #{sId,jdbcType=VARCHAR}, #{sState,jdbcType=INTEGER}, 
      #{remark,jdbcType=VARCHAR}, #{sUid,jdbcType=INTEGER}, #{sDate,jdbcType=TIMESTAMP}, 
      #{delDate,jdbcType=TIMESTAMP}, #{pTime,jdbcType=VARCHAR}, #{isOther,jdbcType=VARCHAR}, 
      #{workTime,jdbcType=VARCHAR}, #{workNow,jdbcType=VARCHAR}, #{point,jdbcType=VARCHAR}, 
      #{yearK,jdbcType=VARCHAR}, #{url,jdbcType=VARCHAR}, #{wRemark,jdbcType=VARCHAR}, 
      #{prDate,jdbcType=TIMESTAMP}, #{zType,jdbcType=VARCHAR}, #{pUrl,jdbcType=VARCHAR}, 
      #{xzPos,jdbcType=VARCHAR}, #{jscore,jdbcType=INTEGER}, #{xpPro,jdbcType=VARCHAR}, 
      #{curPos,jdbcType=VARCHAR}, #{sex,jdbcType=CHAR}, #{birthDate,jdbcType=TIMESTAMP}, 
      #{workName,jdbcType=VARCHAR}, #{workTime2,jdbcType=TIMESTAMP}, #{dPoint,jdbcType=VARCHAR}, 
      #{adr,jdbcType=VARCHAR}, #{email,jdbcType=VARCHAR}, #{technical,jdbcType=VARCHAR}, 
      #{tel,jdbcType=VARCHAR}, #{zNo,jdbcType=VARCHAR}, #{sType,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR}, 
      #{pzNo,jdbcType=VARCHAR}, #{isGet,jdbcType=VARCHAR}, #{mz,jdbcType=VARCHAR}, #{formPlace,jdbcType=VARCHAR}, 
      #{getTime,jdbcType=TIMESTAMP}, #{zipCode,jdbcType=VARCHAR}, #{gTel,jdbcType=VARCHAR}, 
      #{qq,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.i84.earnpoint.model.ZcActivityGet">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into zc_activity_get
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="activityId != null">
        activity_id,
      </if>
      <if test="sbDate != null">
        sb_date,
      </if>
      <if test="uid != null">
        uid,
      </if>
      <if test="sLevel != null">
        s_level,
      </if>
      <if test="sName != null">
        s_name,
      </if>
      <if test="sPro != null">
        s_pro,
      </if>
      <if test="sId != null">
        s_id,
      </if>
      <if test="sState != null">
        s_state,
      </if>
      <if test="remark != null">
        remark,
      </if>
      <if test="sUid != null">
        s_uid,
      </if>
      <if test="sDate != null">
        s_date,
      </if>
      <if test="delDate != null">
        del_date,
      </if>
      <if test="pTime != null">
        p_time,
      </if>
      <if test="isOther != null">
        is_other,
      </if>
      <if test="workTime != null">
        work_time,
      </if>
      <if test="workNow != null">
        work_now,
      </if>
      <if test="point != null">
        point,
      </if>
      <if test="yearK != null">
        year_k,
      </if>
      <if test="url != null">
        url,
      </if>
      <if test="wRemark != null">
        w_remark,
      </if>
      <if test="prDate != null">
        pr_date,
      </if>
      <if test="zType != null">
        z_type,
      </if>
      <if test="pUrl != null">
        p_url,
      </if>
      <if test="xzPos != null">
        xz_pos,
      </if>
      <if test="jscore != null">
        jscore,
      </if>
      <if test="xpPro != null">
        xp_pro,
      </if>
      <if test="curPos != null">
        cur_pos,
      </if>
      <if test="sex != null">
        sex,
      </if>
      <if test="birthDate != null">
        birth_date,
      </if>
      <if test="workName != null">
        work_name,
      </if>
      <if test="workTime2 != null">
        work_time2,
      </if>
      <if test="dPoint != null">
        d_point,
      </if>
      <if test="adr != null">
        adr,
      </if>
      <if test="email != null">
        email,
      </if>
      <if test="technical != null">
        technical,
      </if>
      <if test="tel != null">
        tel,
      </if>
      <if test="zNo != null">
        z_no,
      </if>
      <if test="sType != null">
        s_type,
      </if>
      <if test="name != null">
        name,
      </if>
      <if test="pzNo != null">
        pz_no,
      </if>
      <if test="isGet != null">
        is_get,
      </if>
      <if test="mz != null">
        mz,
      </if>
      <if test="formPlace != null">
        form_place,
      </if>
      <if test="getTime != null">
        get_time,
      </if>
      <if test="zipCode != null">
        zip_code,
      </if>
      <if test="gTel != null">
        g_tel,
      </if>
      <if test="qq != null">
        qq,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="activityId != null">
        #{activityId,jdbcType=INTEGER},
      </if>
      <if test="sbDate != null">
        #{sbDate,jdbcType=TIMESTAMP},
      </if>
      <if test="uid != null">
        #{uid,jdbcType=INTEGER},
      </if>
      <if test="sLevel != null">
        #{sLevel,jdbcType=VARCHAR},
      </if>
      <if test="sName != null">
        #{sName,jdbcType=VARCHAR},
      </if>
      <if test="sPro != null">
        #{sPro,jdbcType=VARCHAR},
      </if>
      <if test="sId != null">
        #{sId,jdbcType=VARCHAR},
      </if>
      <if test="sState != null">
        #{sState,jdbcType=INTEGER},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="sUid != null">
        #{sUid,jdbcType=INTEGER},
      </if>
      <if test="sDate != null">
        #{sDate,jdbcType=TIMESTAMP},
      </if>
      <if test="delDate != null">
        #{delDate,jdbcType=TIMESTAMP},
      </if>
      <if test="pTime != null">
        #{pTime,jdbcType=VARCHAR},
      </if>
      <if test="isOther != null">
        #{isOther,jdbcType=VARCHAR},
      </if>
      <if test="workTime != null">
        #{workTime,jdbcType=VARCHAR},
      </if>
      <if test="workNow != null">
        #{workNow,jdbcType=VARCHAR},
      </if>
      <if test="point != null">
        #{point,jdbcType=VARCHAR},
      </if>
      <if test="yearK != null">
        #{yearK,jdbcType=VARCHAR},
      </if>
      <if test="url != null">
        #{url,jdbcType=VARCHAR},
      </if>
      <if test="wRemark != null">
        #{wRemark,jdbcType=VARCHAR},
      </if>
      <if test="prDate != null">
        #{prDate,jdbcType=TIMESTAMP},
      </if>
      <if test="zType != null">
        #{zType,jdbcType=VARCHAR},
      </if>
      <if test="pUrl != null">
        #{pUrl,jdbcType=VARCHAR},
      </if>
      <if test="xzPos != null">
        #{xzPos,jdbcType=VARCHAR},
      </if>
      <if test="jscore != null">
        #{jscore,jdbcType=INTEGER},
      </if>
      <if test="xpPro != null">
        #{xpPro,jdbcType=VARCHAR},
      </if>
      <if test="curPos != null">
        #{curPos,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        #{sex,jdbcType=CHAR},
      </if>
      <if test="birthDate != null">
        #{birthDate,jdbcType=TIMESTAMP},
      </if>
      <if test="workName != null">
        #{workName,jdbcType=VARCHAR},
      </if>
      <if test="workTime2 != null">
        #{workTime2,jdbcType=TIMESTAMP},
      </if>
      <if test="dPoint != null">
        #{dPoint,jdbcType=VARCHAR},
      </if>
      <if test="adr != null">
        #{adr,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="technical != null">
        #{technical,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        #{tel,jdbcType=VARCHAR},
      </if>
      <if test="zNo != null">
        #{zNo,jdbcType=VARCHAR},
      </if>
      <if test="sType != null">
        #{sType,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="pzNo != null">
        #{pzNo,jdbcType=VARCHAR},
      </if>
      <if test="isGet != null">
        #{isGet,jdbcType=VARCHAR},
      </if>
      <if test="mz != null">
        #{mz,jdbcType=VARCHAR},
      </if>
      <if test="formPlace != null">
        #{formPlace,jdbcType=VARCHAR},
      </if>
      <if test="getTime != null">
        #{getTime,jdbcType=TIMESTAMP},
      </if>
      <if test="zipCode != null">
        #{zipCode,jdbcType=VARCHAR},
      </if>
      <if test="gTel != null">
        #{gTel,jdbcType=VARCHAR},
      </if>
      <if test="qq != null">
        #{qq,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.i84.earnpoint.model.ZcActivityGet">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update zc_activity_get
    <set>
      <if test="activityId != null">
        activity_id = #{activityId,jdbcType=INTEGER},
      </if>
      <if test="sbDate != null">
        sb_date = #{sbDate,jdbcType=TIMESTAMP},
      </if>
      <if test="uid != null">
        uid = #{uid,jdbcType=INTEGER},
      </if>
      <if test="sLevel != null">
        s_level = #{sLevel,jdbcType=VARCHAR},
      </if>
      <if test="sName != null">
        s_name = #{sName,jdbcType=VARCHAR},
      </if>
      <if test="sPro != null">
        s_pro = #{sPro,jdbcType=VARCHAR},
      </if>
      <if test="sId != null">
        s_id = #{sId,jdbcType=VARCHAR},
      </if>
      <if test="sState != null">
        s_state = #{sState,jdbcType=INTEGER},
      </if>
      <if test="remark != null">
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="sUid != null">
        s_uid = #{sUid,jdbcType=INTEGER},
      </if>
      <if test="sDate != null">
        s_date = #{sDate,jdbcType=TIMESTAMP},
      </if>
      <if test="delDate != null">
        del_date = #{delDate,jdbcType=TIMESTAMP},
      </if>
      <if test="pTime != null">
        p_time = #{pTime,jdbcType=VARCHAR},
      </if>
      <if test="isOther != null">
        is_other = #{isOther,jdbcType=VARCHAR},
      </if>
      <if test="workTime != null">
        work_time = #{workTime,jdbcType=VARCHAR},
      </if>
      <if test="workNow != null">
        work_now = #{workNow,jdbcType=VARCHAR},
      </if>
      <if test="point != null">
        point = #{point,jdbcType=VARCHAR},
      </if>
      <if test="yearK != null">
        year_k = #{yearK,jdbcType=VARCHAR},
      </if>
      <if test="url != null">
        url = #{url,jdbcType=VARCHAR},
      </if>
      <if test="wRemark != null">
        w_remark = #{wRemark,jdbcType=VARCHAR},
      </if>
      <if test="prDate != null">
        pr_date = #{prDate,jdbcType=TIMESTAMP},
      </if>
      <if test="zType != null">
        z_type = #{zType,jdbcType=VARCHAR},
      </if>
      <if test="pUrl != null">
        p_url = #{pUrl,jdbcType=VARCHAR},
      </if>
      <if test="xzPos != null">
        xz_pos = #{xzPos,jdbcType=VARCHAR},
      </if>
      <if test="jscore != null">
        jscore = #{jscore,jdbcType=INTEGER},
      </if>
      <if test="xpPro != null">
        xp_pro = #{xpPro,jdbcType=VARCHAR},
      </if>
      <if test="curPos != null">
        cur_pos = #{curPos,jdbcType=VARCHAR},
      </if>
      <if test="sex != null">
        sex = #{sex,jdbcType=CHAR},
      </if>
      <if test="birthDate != null">
        birth_date = #{birthDate,jdbcType=TIMESTAMP},
      </if>
      <if test="workName != null">
        work_name = #{workName,jdbcType=VARCHAR},
      </if>
      <if test="workTime2 != null">
        work_time2 = #{workTime2,jdbcType=TIMESTAMP},
      </if>
      <if test="dPoint != null">
        d_point = #{dPoint,jdbcType=VARCHAR},
      </if>
      <if test="adr != null">
        adr = #{adr,jdbcType=VARCHAR},
      </if>
      <if test="email != null">
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="technical != null">
        technical = #{technical,jdbcType=VARCHAR},
      </if>
      <if test="tel != null">
        tel = #{tel,jdbcType=VARCHAR},
      </if>
      <if test="zNo != null">
        z_no = #{zNo,jdbcType=VARCHAR},
      </if>
      <if test="sType != null">
        s_type = #{sType,jdbcType=VARCHAR},
      </if>
      <if test="name != null">
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="pzNo != null">
        pz_no = #{pzNo,jdbcType=VARCHAR},
      </if>
      <if test="isGet != null">
        is_get = #{isGet,jdbcType=VARCHAR},
      </if>
      <if test="mz != null">
        mz = #{mz,jdbcType=VARCHAR},
      </if>
      <if test="formPlace != null">
        form_place = #{formPlace,jdbcType=VARCHAR},
      </if>
      <if test="getTime != null">
        get_time = #{getTime,jdbcType=TIMESTAMP},
      </if>
      <if test="zipCode != null">
        zip_code = #{zipCode,jdbcType=VARCHAR},
      </if>
      <if test="gTel != null">
        g_tel = #{gTel,jdbcType=VARCHAR},
      </if>
      <if test="qq != null">
        qq = #{qq,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i84.earnpoint.model.ZcActivityGet">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update zc_activity_get
    set activity_id = #{activityId,jdbcType=INTEGER},
      sb_date = #{sbDate,jdbcType=TIMESTAMP},
      uid = #{uid,jdbcType=INTEGER},
      s_level = #{sLevel,jdbcType=VARCHAR},
      s_name = #{sName,jdbcType=VARCHAR},
      s_pro = #{sPro,jdbcType=VARCHAR},
      s_id = #{sId,jdbcType=VARCHAR},
      s_state = #{sState,jdbcType=INTEGER},
      remark = #{remark,jdbcType=VARCHAR},
      s_uid = #{sUid,jdbcType=INTEGER},
      s_date = #{sDate,jdbcType=TIMESTAMP},
      del_date = #{delDate,jdbcType=TIMESTAMP},
      p_time = #{pTime,jdbcType=VARCHAR},
      is_other = #{isOther,jdbcType=VARCHAR},
      work_time = #{workTime,jdbcType=VARCHAR},
      work_now = #{workNow,jdbcType=VARCHAR},
      point = #{point,jdbcType=VARCHAR},
      year_k = #{yearK,jdbcType=VARCHAR},
      url = #{url,jdbcType=VARCHAR},
      w_remark = #{wRemark,jdbcType=VARCHAR},
      pr_date = #{prDate,jdbcType=TIMESTAMP},
      z_type = #{zType,jdbcType=VARCHAR},
      p_url = #{pUrl,jdbcType=VARCHAR},
      xz_pos = #{xzPos,jdbcType=VARCHAR},
      jscore = #{jscore,jdbcType=INTEGER},
      xp_pro = #{xpPro,jdbcType=VARCHAR},
      cur_pos = #{curPos,jdbcType=VARCHAR},
      sex = #{sex,jdbcType=CHAR},
      birth_date = #{birthDate,jdbcType=TIMESTAMP},
      work_name = #{workName,jdbcType=VARCHAR},
      work_time2 = #{workTime2,jdbcType=TIMESTAMP},
      d_point = #{dPoint,jdbcType=VARCHAR},
      adr = #{adr,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      technical = #{technical,jdbcType=VARCHAR},
      tel = #{tel,jdbcType=VARCHAR},
      z_no = #{zNo,jdbcType=VARCHAR},
      s_type = #{sType,jdbcType=VARCHAR},
      name = #{name,jdbcType=VARCHAR},
      pz_no = #{pzNo,jdbcType=VARCHAR},
      is_get = #{isGet,jdbcType=VARCHAR},
      mz = #{mz,jdbcType=VARCHAR},
      form_place = #{formPlace,jdbcType=VARCHAR},
      get_time = #{getTime,jdbcType=TIMESTAMP},
      zip_code = #{zipCode,jdbcType=VARCHAR},
      g_tel = #{gTel,jdbcType=VARCHAR},
      qq = #{qq,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  
   <select id="queryListExcel" parameterType="java.util.Map" resultType="java.util.Map">
  
 SELECT
	ac.*, ac. NAME AS xm,
	U1.pnum AS sfzh,
	ac.work_name AS gzdw,
	ac.sex AS xb,
	ac.birth_date AS csny,
	
	GROUP_CONCAT(DATE_FORMAT(
		study.graduation_date,
		'%Y-%m-%d'
	),'毕业于',study.`school_name`,',',study.`pro_name`,',',study.`education` SEPARATOR';') AS bysj ,
	
	<!-- DATE_FORMAT(
		study.graduation_date,
		'%Y-%m-%d'
	) AS bysj,
	study.school_name AS byxx,
	study.education AS zy,
	study.degree AS xlxx, -->
	DATE_FORMAT(ac.work_time2, '%Y-%m-%d') AS cjgzsj,
	ac.xz_pos AS xzzw,
	ac.cur_pos AS xjjzw,
	DATE_FORMAT(ac.get_time, '%Y-%m-%d') AS qdsj,
	ac.z_no AS zsbh,
	DATE_FORMAT(pr_date, '%Y-%m-%d') AS pysjd,
	ac.year_k AS ndkh,
	ac.jscore AS wycj,
	s_level AS sbjb,
	s_pro AS sbzy,
	ac.tel AS sjh,
	INFO.*, ac.remark AS remark_info
FROM
	zc_activity_get ac
LEFT JOIN user_info U1 ON U1.id = ac.uid
LEFT JOIN t_user U2 ON U2.userId = ac.s_uid
LEFT JOIN zc_activity_info INFO ON INFO.id = ac.activity_id
LEFT JOIN study_info study ON ac.activity_id = study.activity_id
AND ac.uid = study.uid
WHERE
	1 = 1
AND ac.del_date IS NULL
AND study.del_date IS NULL
  	 <if test="activityId != null">
        and ac.activity_id = #{activityId,jdbcType=INTEGER}
      </if>
      <if test="sb_date != null">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sb_date,jdbcType=VARCHAR}
      </if>
      <if test="se_date != null">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &lt; #{se_date,jdbcType=VARCHAR}
      </if>
      <if test="u1_name != null">
        and U1.name like concat('%',#{u1_name},'%')
      </if>
      <if test="s_level != null">
        and ac.s_level = #{s_level,jdbcType=INTEGER}
      </if>
      <if test="s_name != null">
        and ac.s_name like concat('%',#{s_name},'%')
      </if>
      <if test="s_pro != null">
        and s_pro like like concat('%',#{s_pro},'%')
      </if>
      <if test="s_state != null">
        and s_state = #{s_state,jdbcType=INTEGER}
      </if>
      <if test="remark != null">
        and remark = like concat('%',#{remark},'%')
      </if>
      <if test="sh_name != null">
        and U2.name like concat('%',#{sh_name},'%')
      </if>
      <if test="sh_b_date != null">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sh_b_date,jdbcType=VARCHAR}
      </if>
      <if test="sh_e_date != null">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &lt; #{sh_e_date,jdbcType=VARCHAR}
      </if>   
      <if test="sType != null and sType != '' ">
       and ac.s_type = #{sType,jdbcType=VARCHAR}
      </if>
		 GROUP BY ac.id 
  </select>
  
  <select id="queryListExcel1" parameterType="java.util.Map" resultType="java.util.Map">
 SELECT
	ac.*, ac. NAME AS xm,
	U1.pnum AS sfzh,
	ac.work_name AS gzdw,
	ac.sex AS xb,
	ac.birth_date AS csny,
	DATE_FORMAT(ac.work_time2, '%Y-%m-%d') AS cjgzsj,
	ac.xz_pos AS xzzw,
	ac.cur_pos AS xjjzw,
	DATE_FORMAT(ac.get_time, '%Y-%m-%d') AS qdsj,
	ac.z_no AS zsbh,
	DATE_FORMAT(pr_date, '%Y-%m-%d') AS pysjd,
	ac.year_k AS ndkh,
	ac.jscore AS wycj,
	s_level AS sbjb,
	s_pro AS sbzy,
	ac.tel AS sjh,
	ac.activity_id AS hdbh,
	ac.s_name sbzgmc,
	INFO.*, ac.remark AS remark_info, ac.s_state shjg
FROM
	zc_activity_get ac
LEFT JOIN user_info U1 ON U1.id = ac.uid
LEFT JOIN t_user U2 ON U2.userId = ac.s_uid
LEFT JOIN zc_activity_info INFO ON INFO.id = ac.activity_id
WHERE
	1 = 1
AND ac.del_date IS NULL
  	 <if test="activityId != null">
        and ac.activity_id = #{activityId,jdbcType=INTEGER}
      </if>
      <if test="sb_date != null">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sb_date,jdbcType=VARCHAR}
      </if>
      <if test="se_date != null">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &lt; #{se_date,jdbcType=VARCHAR}
      </if>
      <if test="u1_name != null">
        and U1.name like concat('%',#{u1_name},'%')
      </if>
      <if test="s_level != null">
        and ac.s_level = #{s_level,jdbcType=INTEGER}
      </if>
      <if test="s_name != null">
        and ac.s_name like concat('%',#{s_name},'%')
      </if>
      <if test="s_pro != null">
        and s_pro like like concat('%',#{s_pro},'%')
      </if>
      <if test="s_state != null">
        and s_state = #{s_state,jdbcType=INTEGER}
      </if>
      <if test="remark != null">
        and remark = like concat('%',#{remark},'%')
      </if>
      <if test="sh_name != null">
        and U2.name like concat('%',#{sh_name},'%')
      </if>
      <if test="sh_b_date != null">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sh_b_date,jdbcType=VARCHAR}
      </if>
      <if test="sh_e_date != null">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &lt; #{sh_e_date,jdbcType=VARCHAR}
      </if>   
      <if test="sType != null and sType != '' ">
       and ac.s_type = #{sType,jdbcType=VARCHAR}
      </if>
		 GROUP BY ac.id 
		 order by ac.id
  </select>
  
    <select id="queryListExcel2" parameterType="java.util.Map" resultType="java.util.Map">
 SELECT
	ac.s_state,
	GROUP_CONCAT(DATE_FORMAT(
		study.graduation_date,
		'%Y-%m-%d'
	),'毕业于',study.`school_name`,',',study.`pro_name`,',',study.`education` SEPARATOR';') AS bysj 
FROM
	study_info study 
LEFT JOIN zc_activity_get ac ON study.activity_id = ac.activity_id 
	AND study.uid = ac.uid 
WHERE
	1 = 1
	AND ac.del_date IS NULL
	AND study.del_date IS NULL
  	 <if test="activityId != null">
        and ac.activity_id = #{activityId,jdbcType=INTEGER}
      </if>
      <if test="sb_date != null">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sb_date,jdbcType=VARCHAR}
      </if>
      <if test="se_date != null">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &lt; #{se_date,jdbcType=VARCHAR}
      </if>
      <if test="u1_name != null">
        and U1.name like concat('%',#{u1_name},'%')
      </if>
      <if test="s_level != null">
        and ac.s_level = #{s_level,jdbcType=INTEGER}
      </if>
      <if test="s_name != null">
        and ac.s_name like concat('%',#{s_name},'%')
      </if>
      <if test="s_pro != null">
        and s_pro like like concat('%',#{s_pro},'%')
      </if>
      <if test="remark != null">
        and remark = like concat('%',#{remark},'%')
      </if>
      <if test="sh_name != null">
        and U2.name like concat('%',#{sh_name},'%')
      </if>
      <if test="sh_b_date != null">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sh_b_date,jdbcType=VARCHAR}
      </if>
      <if test="sh_e_date != null">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &lt; #{sh_e_date,jdbcType=VARCHAR}
      </if>   
      <if test="sType != null and sType != '' ">
       and ac.s_type = #{sType,jdbcType=VARCHAR}
      </if>
		 GROUP BY ac.id 
		 order by ac.id
  </select>
  
    <select id="queryList" parameterType="java.util.Map" resultType="java.util.Map">
  	 select
  	    ac.id seq,
  	    DATE_FORMAT(ac.work_time2, '%Y-%m-%d') work_time2,
  	 	ac.name zfname,
  	 	ac.sex,
  	 	 DATE_FORMAT(ac.birth_date, '%Y-%m-%d')  birth_date,
  	 	 ac.work_name,
  	 	 ac.d_point,
  	 	 ac.adr,
  	 	 ac.technical,
  	 	 ac.email,
  	 	 ac.z_no,
  	 	 ac.tel,
  	 	 ac.s_state,
  	 	 ac.remark acremark,
  	 	 ac.activity_id,
  	 	  ac.sb_date sbDate, 
  	 	  ac.uid,
  	 	  ac.s_level,
  	 	  ac.s_name,
  	 	  ac.s_pro,
  	 	  ac.s_id,
  	 	  ac.s_uid,
  	 	  ac.s_date, 
  	 	  ac.p_time,
  	 	  ac.is_other,
  	 	  ac.work_time,
  	 	  ac.work_now,
  	 	  ac.point,
  	 	  ac.year_k,
  	 	  ac.url,
  	 	  ac.w_remark,
  	 	  ac.pr_date,
  	 	   ac.z_type,
  	 	   ac.p_url,
  	 	   ac.xz_pos,
  	 	   ac.jscore,
  	 	   ac.xp_pro,
  	 	   ac.cur_pos,
  	 	   ac.s_type,
  	 	   ac.pz_no,
  	 	   ac.is_get,
  	 	   ac.mz,
  	 	   ac.qq,
  	 	   ac.zip_code zipCode,
  	 	   ac.form_place formPlace,
  	 	   ac.remark remark_info,
  	 	   DATE_FORMAT(ac.get_time, '%Y-%m-%d')  getTime,
  	 	   ac.g_tel gTel,
  	 	U1.name AS u1_name,
  	 	U1.pnum AS u1_pnum,
  	 	U1.work_name AS u1_work_name,
  	 	ac.sex AS u1_sex,
  	 	ac.birth_date AS u1_birth_date,
  	 	U1.degree AS u1_degree,
  	 	U1.school AS u1_school,
  	 	U1.major AS u1_major,
  	 	U1.graduation_time AS u1_graduation_time,
  	 	U1.work_time AS u1_work_time,
  	 	U1.get_time AS u1_get_time,
  	 	U1.z_no AS u1_z_no,
  	 	U1.tel AS u1_tel,
  	 	U2.realName AS u2_name,

  	 	INFO.*
  	 from zc_activity_get ac
  	 LEFT JOIN  user_info U1 ON U1.id = ac.uid
  	 LEFT JOIN  t_user U2 ON U2.userId = ac.s_uid
  	 LEFT JOIN  zc_activity_info INFO ON INFO.id=ac.activity_id
  	 where 1 = 1 and ac.del_date is null
  	 <if test="activityId != null and activityId != '' ">
        and activity_id = #{activityId,jdbcType=INTEGER}
      </if>
      <if test="sb_date != null and sb_date != '' ">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sb_date,jdbcType=VARCHAR}
      </if>
      <if test="se_date != null and se_date != '' ">
        and date_format(ac.sb_date, '%Y-%m-%d %H:%i:%S') &lt; #{se_date,jdbcType=VARCHAR}
      </if>
      <if test="u1_name != null and u1_name != '' ">
        and U1.name like concat('%',#{u1_name},'%')
      </if>
      
      <if test="pnum != null and pnum != '' ">
        and U1.pnum like concat('%',#{pnum},'%')
      </if>
      
      <if test="s_level != null and s_level != '' ">
        and ac.s_level = #{s_level,jdbcType=INTEGER}
      </if>
      <if test="s_name != null and s_name != '' ">
        and ac.s_name like concat('%',#{s_name},'%')
      </if>
      <if test="s_pro != null and s_pro != '' ">
        and s_pro like like concat('%',#{s_pro},'%')
      </if>
      <if test="s_state != null and s_state != '' ">
        and s_state = #{s_state,jdbcType=INTEGER}
      </if>
      <if test="remark != null and remark != '' ">
        and remark = like concat('%',#{remark},'%')
      </if>
      <if test="sh_name != null and sh_name != '' ">
        and U2.name like concat('%',#{sh_name},'%')
      </if>
      <if test="sh_b_date != null and sh_b_date != '' ">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &gt;= #{sh_b_date,jdbcType=VARCHAR}
      </if>
      <if test="sh_e_date != null and sh_e_date != '' ">
        and date_format(ac.s_date, '%Y-%m-%d %H:%i:%S') &lt; #{sh_e_date,jdbcType=VARCHAR}
      </if>   
      <if test="sType != null and sType != '' ">
       and ac.s_type = #{sType,jdbcType=VARCHAR}
      </if>
      <if test="sort != null and sort != '' ">
	       order by ${sort} ${order}
      </if>
  </select>
  
  <select id="selectZCPSBaseInfoList" parameterType="java.util.HashMap" resultType="java.util.HashMap">
		SELECT
			a.id userId,
			b.id ugId,
			c.id agId,
			b.uid suid,
			b.name,
			a.pnum,
			b.sex,
			b.tel,
			a.g_tel,
			b.work_name,
			DATE_FORMAT(b.work_time2, '%Y-%m-%d') work_time,
			a.form_place,
			b.d_point,
			b.adr,
			b.technical,
			b.z_no zno,
			b.email,
			DATE_FORMAT(b.birth_date,'%Y-%m-%d') birth,
			DATE_FORMAT(b.pr_date, '%Y-%m-%d') pr_date,
			b.z_type,
			b.p_time,
			b.is_other,
			b.work_now,
			b.work_time edutime,
			b.s_level,
			b.s_name,
			b.s_id,
			b.point,
			b.year_k,
			b.url,
			b.remark,
			b.s_pro,
			b.s_state sState
		FROM
			user_info a
		INNER JOIN zc_activity_get b ON a.id = b.uid
		INNER JOIN zc_activity_info c ON c.id = b.activity_id
		WHERE
			a.del_date IS NULL
		AND b.del_date IS NULL
		AND c.del_date IS NULL
		AND b.sb_date IS NOT NULL
		<if test="activityId!=null and activityId!=''">
		    AND b.activity_id = #{activityId,jdbcType=INTEGER}
		</if>
		<if test="name!=null and name!=''">
		    AND b.name LIKE CONCAT('%',#{name,jdbcType=VARCHAR},'%')
		</if>
		<if test="pnum!=null and pnum!=''">
		    AND a.pnum LIKE CONCAT('%',#{pnum,jdbcType=VARCHAR},'%')
		</if>
		<if test="work_name!=null and work_name!=''">
		    AND b.work_name LIKE CONCAT('%',#{work_name,jdbcType=VARCHAR},'%')
		</if>
        
  </select>
  
  <select id="selectZCPSBaseInfoList1" parameterType="com.i84.earnpoint.model.ZcActivityGet" resultType="java.util.HashMap">
		SELECT 
		 b.id,  b.activity_id activityId,  b.sb_date sbDate,  b.uid,  b.s_level sLevel,  b.s_name sName,  b.s_pro sPro,  b.s_id sId,  b.s_state sState,  b.remark,  b.s_uid sUid, 
	     b.s_date sDate,  b.del_date delDate,  b.p_time pTime,  b.is_other isOther,  b.work_time workTime,  b.work_now workNow,  b.point,  b.year_k yearK,  b.url,  b.w_remark wRemark, 
	     b.pr_date prDate,  b.z_type zType,  b.p_url pUrl,  b.xz_pos xzPos,  b.jscore,  b.xp_pro xpPro,  b.cur_pos curPos,  b.sex,  DATE_FORMAT(b.birth_date, '%Y-%m-%d') birthDate,  b.work_name workName, 
	     b.work_time2 workTime2,  b.d_point dPoint,  b.adr,  b.email,  b.technical,  b.tel,  b.z_no zNo,  b.s_type sType,  b.name,  b.pz_no pzNo,  b.is_get isGet, 
	     b.mz,  b.form_place formPlace,  DATE_FORMAT(b.get_time, '%Y-%m-%d')  getTime,  b.zip_code zipCode,  b.g_tel gTel,  b.qq,a.pnum
		FROM zc_activity_get b left join user_info a on b.uid=a.id
		WHERE  b.del_date IS NULL	and b.sb_date is not null	
		<if test="activityId!=null and activityId!=''">
		    AND b.activity_id = #{activityId,jdbcType=INTEGER}
		</if>
  </select>
  
  <select id="selectZCPSBaseInfoList2" parameterType="com.i84.earnpoint.model.ZcActivityGet" resultType="java.lang.Integer">
		SELECT 
		 COUNT(*)
		FROM zc_activity_get b left join user_info a on b.uid=a.id
		WHERE  b.del_date IS NULL	and b.sb_date is not null	
		<if test="activityId!=null and activityId!=''">
		    AND b.activity_id = #{activityId,jdbcType=INTEGER}
		</if>
  </select>
  
  
  <!-- 查询某个活动下某个人的申报信息 -->
  
  <select id="selectZcActivityGetByActivityIdAndUid" resultMap="BaseResultMap" parameterType="com.i84.earnpoint.model.ZcActivityGet">
       select 
       <include refid="Base_Column_List" />
       from zc_activity_get
       where activity_id=#{activityId,jdbcType=INTEGER} AND uid = #{uid,jdbcType=INTEGER} limit 1
  </select>
  
  <select id="getActivityGetInfo" parameterType="com.i84.earnpoint.model.ZcActivityGet" resultType="com.i84.earnpoint.model.ZcActivityGet">
    select 
    id,uid
    from zc_activity_get where del_date is null and activity_id=#{activityId,jdbcType=INTEGER}
  </select>
</mapper>