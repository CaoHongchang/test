<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.i84.earnpoint.mapper.ResidenceGetoutInfoMapper" >
  <resultMap id="BaseResultMap" type="com.i84.earnpoint.model.ResidenceGetoutInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="d_id" property="dId" jdbcType="INTEGER" />
    <result column="d_no" property="dNo" jdbcType="VARCHAR" />
    <result column="d_content" property="dContent" jdbcType="VARCHAR" />
    <result column="d_point" property="dPoint" jdbcType="VARCHAR" />
    <result column="d_uid" property="dUid" jdbcType="VARCHAR" />
    <result column="out_uid" property="outUid" jdbcType="VARCHAR" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="d_date" property="dDate" jdbcType="TIMESTAMP" />
    <result column="t_name" property="tName" jdbcType="VARCHAR" />
    <result column="staff" property="staff" jdbcType="INTEGER" />
    <result column="add_date" property="addDate" jdbcType="TIMESTAMP" />
    <result column="back_date" property="backDate" jdbcType="TIMESTAMP" />
    <result column="s_uid" property="sUid" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, d_id, d_no, d_content, d_point, d_uid, out_uid, remark, d_date, t_name, staff, 
    add_date, back_date, s_uid
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from residence_getout_info
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from residence_getout_info
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.i84.earnpoint.model.ResidenceGetoutInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into residence_getout_info (id, d_id, d_no, 
      d_content, d_point, d_uid, 
      out_uid, remark, d_date, 
      t_name, staff, add_date, 
      back_date, s_uid)
    values (#{id,jdbcType=INTEGER}, #{dId,jdbcType=INTEGER}, #{dNo,jdbcType=VARCHAR}, 
      #{dContent,jdbcType=VARCHAR}, #{dPoint,jdbcType=VARCHAR}, #{dUid,jdbcType=VARCHAR}, 
      #{outUid,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, #{dDate,jdbcType=TIMESTAMP}, 
      #{tName,jdbcType=VARCHAR}, #{staff,jdbcType=INTEGER}, #{addDate,jdbcType=TIMESTAMP}, 
      #{backDate,jdbcType=TIMESTAMP}, #{sUid,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.i84.earnpoint.model.ResidenceGetoutInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into residence_getout_info
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="dId != null" >
        d_id,
      </if>
      <if test="dNo != null" >
        d_no,
      </if>
      <if test="dContent != null" >
        d_content,
      </if>
      <if test="dPoint != null" >
        d_point,
      </if>
      <if test="dUid != null" >
        d_uid,
      </if>
      <if test="outUid != null" >
        out_uid,
      </if>
      <if test="remark != null" >
        remark,
      </if>
      <if test="dDate != null" >
        d_date,
      </if>
      <if test="tName != null" >
        t_name,
      </if>
      <if test="staff != null" >
        staff,
      </if>
      <if test="addDate != null" >
        add_date,
      </if>
      <if test="backDate != null" >
        back_date,
      </if>
      <if test="sUid != null" >
        s_uid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="dId != null" >
        #{dId,jdbcType=INTEGER},
      </if>
      <if test="dNo != null" >
        #{dNo,jdbcType=VARCHAR},
      </if>
      <if test="dContent != null" >
        #{dContent,jdbcType=VARCHAR},
      </if>
      <if test="dPoint != null" >
        #{dPoint,jdbcType=VARCHAR},
      </if>
      <if test="dUid != null" >
        #{dUid,jdbcType=VARCHAR},
      </if>
      <if test="outUid != null" >
        #{outUid,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="dDate != null" >
        #{dDate,jdbcType=TIMESTAMP},
      </if>
      <if test="tName != null" >
        #{tName,jdbcType=VARCHAR},
      </if>
      <if test="staff != null" >
        #{staff,jdbcType=INTEGER},
      </if>
      <if test="addDate != null" >
        #{addDate,jdbcType=TIMESTAMP},
      </if>
      <if test="backDate != null" >
        #{backDate,jdbcType=TIMESTAMP},
      </if>
      <if test="sUid != null" >
        #{sUid,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.i84.earnpoint.model.ResidenceGetoutInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update residence_getout_info
    <set >
      <if test="dId != null" >
        d_id = #{dId,jdbcType=INTEGER},
      </if>
      <if test="dNo != null" >
        d_no = #{dNo,jdbcType=VARCHAR},
      </if>
      <if test="dContent != null" >
        d_content = #{dContent,jdbcType=VARCHAR},
      </if>
      <if test="dPoint != null" >
        d_point = #{dPoint,jdbcType=VARCHAR},
      </if>
      <if test="dUid != null" >
        d_uid = #{dUid,jdbcType=VARCHAR},
      </if>
      <if test="outUid != null" >
        out_uid = #{outUid,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="dDate != null" >
        d_date = #{dDate,jdbcType=TIMESTAMP},
      </if>
      <if test="tName != null" >
        t_name = #{tName,jdbcType=VARCHAR},
      </if>
      <if test="staff != null" >
        staff = #{staff,jdbcType=INTEGER},
      </if>
      <if test="addDate != null" >
        add_date = #{addDate,jdbcType=TIMESTAMP},
      </if>
      <if test="backDate != null" >
        back_date = #{backDate,jdbcType=TIMESTAMP},
      </if>
      <if test="sUid != null" >
        s_uid = #{sUid,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i84.earnpoint.model.ResidenceGetoutInfo" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update residence_getout_info
    set d_id = #{dId,jdbcType=INTEGER},
      d_no = #{dNo,jdbcType=VARCHAR},
      d_content = #{dContent,jdbcType=VARCHAR},
      d_point = #{dPoint,jdbcType=VARCHAR},
      d_uid = #{dUid,jdbcType=VARCHAR},
      out_uid = #{outUid,jdbcType=VARCHAR},
      remark = #{remark,jdbcType=VARCHAR},
      d_date = #{dDate,jdbcType=TIMESTAMP},
      t_name = #{tName,jdbcType=VARCHAR},
      staff = #{staff,jdbcType=INTEGER},
      add_date = #{addDate,jdbcType=TIMESTAMP},
      back_date = #{backDate,jdbcType=TIMESTAMP},
      s_uid = #{sUid,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectResidenceGetoutInfoList" parameterType="java.util.HashMap" resultType="java.util.HashMap" >
		SELECT
			 id, d_id, d_no, d_content, d_point, d_uid, out_uid, remark, DATE_FORMAT(d_date,'%Y-%m-%d') d_date, t_name, staff, 
             DATE_FORMAT(add_date,'%Y-%m-%d')  add_date,DATE_FORMAT(back_date,'%Y-%m-%d') back_date, s_uid
		FROM
			residence_getout_info a
		WHERE
			1 = 1
	    <if test="d_no !=null and d_no !=''">
	        and a.d_no = #{d_no}
	    </if>
	    <if test="startTime != null">
	        AND a.d_date &gt;= #{startTime}
	    </if>
	    <if test="endTime != null">
	        AND a.d_date  &lt;=  #{endTime}
	    </if>
	     <if test="isBack == 1">
	        and a.back_date is not null
	    </if>
	    <if test="isBack == 0">
	        and a.back_date is null
	    </if>
    </select>
    
    <select id="selectYg">
     select 
    <include refid="Base_Column_List" />
    from residence_getout_info where 1=1
    <if test="dNo!=null and dNo!=''">
     and d_no=#{dNo,jdbcType=VARCHAR}
    </if>
    limit 1
    
    </select>
</mapper>