<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.i84.earnpoint.mapper.EnterpriseMaterialInfoMapper">
  <resultMap id="BaseResultMap" type="com.i84.earnpoint.model.EnterpriseMaterialInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="enterprise_id" jdbcType="INTEGER" property="enterpriseId" />
    <result column="pno" jdbcType="VARCHAR" property="pno" />
    <result column="ptype" jdbcType="VARCHAR" property="ptype" />
    <result column="pname" jdbcType="VARCHAR" property="pname" />
    <result column="remark" jdbcType="VARCHAR" property="remark" />
    <result column="add_date" jdbcType="TIMESTAMP" property="addDate" />
    <result column="staff_id" jdbcType="INTEGER" property="staffId" />
    <result column="is_valid" jdbcType="VARCHAR" property="isValid" />
    <result column="level" jdbcType="INTEGER" property="level" />
    <result column="sname" jdbcType="VARCHAR" property="sname" />
    <result column="sdate" jdbcType="TIMESTAMP" property="sdate" />
    <result column="valid_date" jdbcType="VARCHAR" property="validDate" />
    <result column="url" jdbcType="VARCHAR" property="url" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, enterprise_id, pno, ptype, pname, remark, add_date, staff_id, is_valid, level, 
    sname, sdate, valid_date, url
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from enterprise_material_info
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from enterprise_material_info
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.i84.earnpoint.model.EnterpriseMaterialInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into enterprise_material_info (id, enterprise_id, pno, 
      ptype, pname, remark, 
      add_date, staff_id, is_valid, 
      level, sname, sdate, 
      valid_date, url)
    values (#{id,jdbcType=INTEGER}, #{enterpriseId,jdbcType=INTEGER}, #{pno,jdbcType=VARCHAR}, 
      #{ptype,jdbcType=VARCHAR}, #{pname,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, 
      #{addDate,jdbcType=TIMESTAMP}, #{staffId,jdbcType=INTEGER}, #{isValid,jdbcType=VARCHAR}, 
      #{level,jdbcType=INTEGER}, #{sname,jdbcType=VARCHAR}, #{sdate,jdbcType=TIMESTAMP}, 
      #{validDate,jdbcType=VARCHAR}, #{url,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.i84.earnpoint.model.EnterpriseMaterialInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into enterprise_material_info
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="enterpriseId != null">
        enterprise_id,
      </if>
      <if test="pno != null">
        pno,
      </if>
      <if test="ptype != null">
        ptype,
      </if>
      <if test="pname != null">
        pname,
      </if>
      <if test="remark != null">
        remark,
      </if>
      <if test="addDate != null">
        add_date,
      </if>
      <if test="staffId != null">
        staff_id,
      </if>
      <if test="isValid != null">
        is_valid,
      </if>
      <if test="level != null">
        level,
      </if>
      <if test="sname != null">
        sname,
      </if>
      <if test="sdate != null">
        sdate,
      </if>
      <if test="validDate != null">
        valid_date,
      </if>
      <if test="url != null">
        url,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="enterpriseId != null">
        #{enterpriseId,jdbcType=INTEGER},
      </if>
      <if test="pno != null">
        #{pno,jdbcType=VARCHAR},
      </if>
      <if test="ptype != null">
        #{ptype,jdbcType=VARCHAR},
      </if>
      <if test="pname != null">
        #{pname,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="addDate != null">
        #{addDate,jdbcType=TIMESTAMP},
      </if>
      <if test="staffId != null">
        #{staffId,jdbcType=INTEGER},
      </if>
      <if test="isValid != null">
        #{isValid,jdbcType=VARCHAR},
      </if>
      <if test="level != null">
        #{level,jdbcType=INTEGER},
      </if>
      <if test="sname != null">
        #{sname,jdbcType=VARCHAR},
      </if>
      <if test="sdate != null">
        #{sdate,jdbcType=TIMESTAMP},
      </if>
      <if test="validDate != null">
        #{validDate,jdbcType=VARCHAR},
      </if>
      <if test="url != null">
        #{url,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.i84.earnpoint.model.EnterpriseMaterialInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update enterprise_material_info
    <set>
      <if test="enterpriseId != null">
        enterprise_id = #{enterpriseId,jdbcType=INTEGER},
      </if>
      <if test="pno != null">
        pno = #{pno,jdbcType=VARCHAR},
      </if>
      <if test="ptype != null">
        ptype = #{ptype,jdbcType=VARCHAR},
      </if>
      <if test="pname != null">
        pname = #{pname,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        remark = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="addDate != null">
        add_date = #{addDate,jdbcType=TIMESTAMP},
      </if>
      <if test="staffId != null">
        staff_id = #{staffId,jdbcType=INTEGER},
      </if>
      <if test="isValid != null">
        is_valid = #{isValid,jdbcType=VARCHAR},
      </if>
      <if test="level != null">
        level = #{level,jdbcType=INTEGER},
      </if>
      <if test="sname != null">
        sname = #{sname,jdbcType=VARCHAR},
      </if>
      <if test="sdate != null">
        sdate = #{sdate,jdbcType=TIMESTAMP},
      </if>
      <if test="validDate != null">
        valid_date = #{validDate,jdbcType=VARCHAR},
      </if>
      <if test="url != null">
        url = #{url,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i84.earnpoint.model.EnterpriseMaterialInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update enterprise_material_info
    set enterprise_id = #{enterpriseId,jdbcType=INTEGER},
      pno = #{pno,jdbcType=VARCHAR},
      ptype = #{ptype,jdbcType=VARCHAR},
      pname = #{pname,jdbcType=VARCHAR},
      remark = #{remark,jdbcType=VARCHAR},
      add_date = #{addDate,jdbcType=TIMESTAMP},
      staff_id = #{staffId,jdbcType=INTEGER},
      is_valid = #{isValid,jdbcType=VARCHAR},
      level = #{level,jdbcType=INTEGER},
      sname = #{sname,jdbcType=VARCHAR},
      sdate = #{sdate,jdbcType=TIMESTAMP},
      valid_date = #{validDate,jdbcType=VARCHAR},
      url = #{url,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectBySelective" resultMap="BaseResultMap" parameterType="com.i84.earnpoint.model.EnterpriseMaterialInfo">
      select 
      <include refid="Base_Column_List"/>
      from enterprise_material_info where 1=1
       <if test="id != null">
       and id= #{id,jdbcType=INTEGER} 
      </if>
       <if test="enterpriseId != null">
       and enterprise_id = #{enterpriseId,jdbcType=INTEGER} 
      </if>
      <if test="pno != null">
      and  pno = #{pno,jdbcType=VARCHAR} 
      </if>
      <if test="ptype != null">
       and  ptype = #{ptype,jdbcType=VARCHAR} 
      </if>
      <if test="pname != null">
      and  pname = #{pname,jdbcType=VARCHAR} 
      </if>
      <if test="remark != null">
      and  remark = #{remark,jdbcType=VARCHAR}
      </if>
      <if test="addDate != null">
       and add_date = #{addDate,jdbcType=TIMESTAMP}
      </if>
      <if test="staffId != null">
      and  staff_id = #{staffId,jdbcType=INTEGER} 
      </if>
      <if test="isValid != null">
      and  is_valid = #{isValid,jdbcType=VARCHAR} 
      </if>
      <if test="level != null">
       and level = #{level,jdbcType=INTEGER} 
      </if>
      <if test="sname != null">
        and sname = #{sname,jdbcType=VARCHAR} 
      </if>
      <if test="sdate != null">
       and sdate = #{sdate,jdbcType=TIMESTAMP} 
      </if>
      <if test="validDate != null">
       and valid_date = #{validDate,jdbcType=VARCHAR} 
      </if>
      <if test="url != null">
       and url = #{url,jdbcType=VARCHAR} 
      </if>
  </select>
  <update id="updateIsValid">
      update enterprise_material_info 
      set is_valid = (case when is_valid=1 then 2 else 1 end),
      remark=(case when is_valid=1 then '无效材料' else '有效材料' end)
      where id in 
      <foreach collection="array" item="item" index="index" separator="," open="(" close=")">
         #{item}
      </foreach>
  </update>
</mapper>